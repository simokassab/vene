<%= form_with(model: [:admin, @banner], local: true, class: "space-y-6") do |form| %>
  <% if @banner.errors.any? %>
    <div class="rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-800">
      <div class="font-semibold mb-2">Please fix the errors below</div>
      <ul class="list-disc pl-5 space-y-1">
        <% @banner.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <!-- Basic Information Section -->
  <div class="bg-white rounded-xl border border-gray-200 shadow-sm p-6">
    <h3 class="text-lg font-semibold text-gray-900 mb-4 flex items-center">
      <svg class="w-5 h-5 mr-2 text-[#465FFF]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
      </svg>
      <%= t("admin.banners.basic_info", default: "Basic Information") %>
    </h3>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <%= form.label :title_en, class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= form.text_field :title_en,
          class: "block w-full px-4 py-2.5 text-sm text-gray-900 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#465FFF] focus:border-[#465FFF] transition-colors",
          placeholder: "Enter banner title in English" %>
      </div>

      <div>
        <%= form.label :title_ar, class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= form.text_field :title_ar,
          class: "block w-full px-4 py-2.5 text-sm text-gray-900 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#465FFF] focus:border-[#465FFF] transition-colors",
          placeholder: "أدخل عنوان الإعلان بالعربية" %>
      </div>

      <div>
        <%= form.label :subtitle_en, class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= form.text_field :subtitle_en,
          class: "block w-full px-4 py-2.5 text-sm text-gray-900 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#465FFF] focus:border-[#465FFF] transition-colors",
          placeholder: "Enter subtitle in English" %>
      </div>

      <div>
        <%= form.label :subtitle_ar, class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= form.text_field :subtitle_ar,
          class: "block w-full px-4 py-2.5 text-sm text-gray-900 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#465FFF] focus:border-[#465FFF] transition-colors",
          placeholder: "أدخل العنوان الفرعي بالعربية" %>
      </div>

      <div>
        <%= form.label :url, class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= form.text_field :url,
          class: "block w-full px-4 py-2.5 text-sm text-gray-900 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#465FFF] focus:border-[#465FFF] transition-colors",
          placeholder: "/products/special-offer" %>
        <p class="mt-1 text-xs text-gray-500">Banner click destination URL</p>
      </div>

      <div>
        <%= form.label :product_id, t("admin.banners.product", default: "Linked Product"), class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= form.collection_select :product_id, Product.all, :id, :name_en,
          { include_blank: "None" },
          class: "block w-full px-4 py-2.5 text-sm text-gray-900 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#465FFF] focus:border-[#465FFF] transition-colors" %>
        <p class="mt-1 text-xs text-gray-500">Optional: Link banner to a specific product</p>
      </div>

      <div>
        <%= form.label :position, class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= form.number_field :position,
          class: "block w-full px-4 py-2.5 text-sm text-gray-900 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#465FFF] focus:border-[#465FFF] transition-colors",
          placeholder: "0" %>
        <p class="mt-1 text-xs text-gray-500">Display order (lower numbers appear first)</p>
      </div>

      <div class="flex items-start pt-8">
        <div class="flex items-center h-5">
          <%= form.check_box :active,
            class: "w-4 h-4 text-[#465FFF] bg-gray-100 border-gray-300 rounded focus:ring-[#465FFF] focus:ring-2" %>
        </div>
        <div class="ml-3">
          <%= form.label :active, class: "text-sm font-medium text-gray-700" %>
          <p class="text-xs text-gray-500">Make this banner visible on the website</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Banner Image Section -->
  <div class="bg-white rounded-xl border border-gray-200 shadow-sm p-6">
    <h3 class="text-lg font-semibold text-gray-900 mb-4 flex items-center">
      <svg class="w-5 h-5 mr-2 text-[#465FFF]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>
      </svg>
      <%= t("admin.banners.image", default: "Banner Image") %>
    </h3>

    <div class="space-y-4">
      <div>
        <%= form.label :image, t("admin.banners.upload_image", default: "Upload Image"), class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= form.file_field :image,
          class: "block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none focus:ring-2 focus:ring-[#465FFF] focus:border-[#465FFF] file:mr-4 file:py-2 file:px-4 file:rounded-l-lg file:border-0 file:text-sm file:font-medium file:bg-[#465FFF] file:text-white hover:file:bg-[#3651E6]" %>
        <p class="mt-2 text-xs text-gray-500">Recommended size: 1920x600px for full-width banners</p>
      </div>

      <% if @banner.image? %>
        <div>
          <p class="text-sm font-medium text-gray-700 mb-3"><%= t("admin.banners.current_image", default: "Current Image") %></p>
          <div class="inline-block rounded-lg border-2 border-gray-200 overflow-hidden max-w-2xl">
            <%= image_tag @banner.image.url, class: "w-full h-auto" %>
          </div>
        </div>
      <% end %>
    </div>
  </div>

  <!-- Form Actions -->
  <div class="flex items-center justify-between pt-4">
    <%= link_to admin_banners_path(locale: I18n.locale),
      class: "inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors" do %>
      <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
      </svg>
      <%= t("common.cancel", default: "Cancel") %>
    <% end %>

    <%= form.submit t("admin.actions.save"),
      class: "inline-flex items-center px-6 py-2.5 bg-[#465FFF] hover:bg-[#3651E6] text-white font-medium rounded-lg shadow-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#465FFF]" %>
  </div>
<% end %>
